<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <meta charset="UTF-8" />

    <title> NHL </title>

    <link type = "text/css" rel="stylesheet" href="assests/css/style.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"> </script>  
</head>

<!--- Tab Links --->
<div class="tab">
    <button class="tablinks" onclick="openTabs(event, 'Home')" id="defaultOpen">Home</button>
    <button class="tablinks" onclick="openTabs(event, 'Teams')">Team Roster</button>
    <button class="tablinks" onclick="openTabs(event, 'Drafts')">Draft Records</button>
    <button class="tablinks" onclick="openTabs(event, 'Records')">Game Results</button>
    <button class="tablinks" onclick="openTabs(event, 'Standings')">Standings</button>
    <button class="tablinks" onclick="openTabs(event, 'Players')">Player Data</button>
</div>

<!--- Tab Content --->
<div id="Teams" class="tabcontent">
    <h3>Teams</h3>

        <ul id="team-list" class="numbered-list"></ul>
        <ul id="team" class="non-list"></ul>
        <ul id="player-list" class="numbered-list"></ul>
        <ul id="player" class="non-list"></ul>

        <script type = "text/javascript" src="assests/javascript/javascript.js"></script>
</div>

<!--- Content for showing NHL Draft Records --->
<div id="Drafts" class="tabcontent">
    <h3>Draft Records</h3>
    <label>Enter year and a round number(1-7):</label><br>
    <input type=text id="draftin">
    <input type="text" id="roundin">
    <input type=submit value="Search" onclick="getDraft()"><br>
    <input type=submit value="Reset" onclick="resetDraft()"><br>

    <label id="draftrecords"></label>
</div>

<!--- Content for the Home page --->
<div id="Home" class="tabcontent" style="display:block">
    <h3>Home</h3>
    <img src="https://upload.wikimedia.org/wikipedia/en/thumb/3/3a/05_NHL_Shield.svg/1200px-05_NHL_Shield.svg.png" alt="NHL Shield" style="width: 100px; height: 100px"><br>
    <label>This site uses the public NHL API to get various stats. Made to practice with JavaScript, API calls and HTML.</label>
</div>

<!--- Content for showing the results of games --->
<div id="Records" class="tabcontent">
    <h3>Game Results</h3>
    <input type="text" id="teamin">
    <input type=submit value="Search" onclick="getResults()"><br>
    <label id="resultrecords"></label>
</div>

<!--- Content for player data tab --->

<div id="Players" class="tabcontent">
    <h3>Player Data</h3>
    <input type="text" id="playerin">
    <input type=submit value="Search" onclick="getPlayers()"><br>
    <label id="playerrecords"></label>
</div>

<!--- Content for the league standings --->
<div id="Standings" class="tabcontent">

    <h3>Standings</h3>
    <h4>Metro Standings</h4>
    <label id="metrostandings"></label>
    <h4>Atlantic Standings</h4>
    <label id="atlanticstandings"></label>
    <h4>Central Standings</h4>
    <label id="centralstandings"></label>
    <h4>Pacific Standings</h4>
    <label id="pacificstandings"></label>

    <script>

        var standingsURL = "https://statsapi.web.nhl.com/api/v1/standings";

            $.ajax({
                url: standingsURL,
                method: "GET"
            }).done(function(standingsData){

                for(var i = 0; i < 8; i++){
                    document.getElementById('metrostandings').innerHTML += standingsData.records[0].teamRecords[i].team.name + " ";
                    document.getElementById('metrostandings').innerHTML += standingsData.records[0].teamRecords[i].leagueRecord.wins + " ";
                    document.getElementById('metrostandings').innerHTML += standingsData.records[0].teamRecords[i].leagueRecord.losses + " ";
                    document.getElementById('metrostandings').innerHTML += standingsData.records[0].teamRecords[i].leagueRecord.ot + "<br>";
                }
                for(var i = 0; i < 8; i++){
                    document.getElementById('atlanticstandings').innerHTML += standingsData.records[1].teamRecords[i].team.name + " ";
                    document.getElementById('atlanticstandings').innerHTML += standingsData.records[1].teamRecords[i].leagueRecord.wins + " ";
                    document.getElementById('atlanticstandings').innerHTML += standingsData.records[1].teamRecords[i].leagueRecord.losses + " ";
                    document.getElementById('atlanticstandings').innerHTML += standingsData.records[1].teamRecords[i].leagueRecord.ot + "<br>";
                }
                for(var i = 0; i < 8; i++){
                    document.getElementById('centralstandings').innerHTML += standingsData.records[2].teamRecords[i].team.name + " ";
                    document.getElementById('centralstandings').innerHTML += standingsData.records[2].teamRecords[i].leagueRecord.wins + " ";
                    document.getElementById('centralstandings').innerHTML += standingsData.records[2].teamRecords[i].leagueRecord.losses + " ";
                    document.getElementById('centralstandings').innerHTML += standingsData.records[2].teamRecords[i].leagueRecord.ot + "<br>";
                }
                for(var i = 0; i < 8; i++){
                    document.getElementById('pacificstandings').innerHTML += standingsData.records[3].teamRecords[i].team.name + " ";
                    document.getElementById('pacificstandings').innerHTML += standingsData.records[3].teamRecords[i].leagueRecord.wins + " ";
                    document.getElementById('pacificstandings').innerHTML += standingsData.records[3].teamRecords[i].leagueRecord.losses + " ";
                    document.getElementById('pacificstandings').innerHTML += standingsData.records[3].teamRecords[i].leagueRecord.ot + "<br>";
                }
            });
    </script>
</html>
